#  Do you like Pizza?
![메인 로비 베타](https://github.com/user-attachments/assets/cc1325c8-6995-420f-acf0-98bf3c7688c8)

### UCC : [링크](https://youtu.be/-_m22B9tgZ0)

## ✨Overview
1. 프레디의 피자가게 4를 모작하였습니다.

## 팀 소개 

한진성, 송영무, 정윤선, 한수빈

### 개발 환경

---

**Game**
- Visual Studio
- Unreal Engine 5.4

### 내 역할

---

- 플레이어 조작, 이동
- 특정 위치에서의 문 닫기, 불 켜기와 같은 상호작용
- 플레이어 상태제어
- 메인 로비 및 Extra UI, 튜토리얼 제작
- Enemy 행동패턴 분석

```
분석한 내용 중 일부 사항

점프 스케어 소리 - 컵케이크 뺴고 전부 스크림 2, 컵케이크만 스크림 3

0. 보니 & 치카 & 폭시 : 랜덤 이동은 약 5초(4.93~4.98 쯤 되는 듯)에 한 번씩 랜덤하게 이동한다.(AI 레벨에 따른 이동) 
- 랜덤 이동 기준 보니(윤선 방 번호 기준) 
3에 있을 때는 2
2에 있을 때는 1 또는 3
1에 있을 때는 무조건 0
0에서는 무조건 1로 이동(랜덤이동 할 때만)
따라서 한 번 1로 들어온 뒤 부터는 플레이어가 문을 닫거나 불을 비출 때까지 0과 1을 반복해서 이동한다.

- 랜덤 이동 기준 치카(수빈 방 번호 기준) 
1에 있을때는 3
3에있을 때는 1 또는 4 또는 6
4에있을떄는 3
6에있을 떄는 8
8에 있을 때는 6
치카도 한 번 6에 들어오면 플레이어가 문을 닫거나 불을 비출 때까지 6과 8을 왔다갔다 한다.

- 랜덤 이동 기준 폭시
1에 있을 때는 2 또는 3
2에 있을 때는 5 또는 3
3에 있을 때는 6 또는 2
5에 있을 때는 다른 곳으로 이동 X
6에 있을 때는 다른 곳으로 이동 X
폭시는 5,6에 들어오면 플레이어가 손전등으로 쫒아내거나, 옷장에 들어가기 전 까지 더이상 움직이지 않고 대기한다.

1. 보니 & 치카 : 보니와 치카가 들어오는 각각의 복도를 플레이어가 바라보고 있다면 그 객체는 움직이지 않는다.
- 플레이어가 왼쪽 방을 바라보고 있는 한, 보니는 절대로 움직이지 않는다.
- 플레이어가 왼쪽 방을 바라보고 있을 때 보니가 문앞에 있다면 숨소리를 재생한다.
- 플레이어가 왼쪽 방을 바라보고 있고, 치카가 오른 쪽 문 앞에 있을 때는, 컵케이크를 던지는 게 아니라 이전 방으로 돌아간다.
(반대의 경우도 마찬가지)
- 치카가 컵케이크를 던지는 시점은 치카가 문 앞에 있고, 플레이어가 메인에 있을 때만, 침대를 보고 있어도 던지지 않는다.

2. 보니 & 치카 : 보니와 치카가 복도 중앙에 있을 때, 플레이어가 문을 닫는다면 무조건 문 앞으로 텔레포트 한다. 
 - 텔레포트 이후 플레이어가 계속 문을 닫고 있다면 보니와 치카는 제자리에서 절대 움직이지 않는다. - 보니가 텔포해도 치카도 멈춤(반대도 마찬가지)
 - 문을 닫음으로 인한 텔레포트 이후 플레이어가 다시 문을 열면 보니와 치카는 다시 움직인다.
3.  보니와 치카가 문 앞에 있을 때, 숨소리를 듣고 문을 닫으면 보니와 치카가 돌아가는데, 돌아가는 것은 타이머(CurrentTime)과 관련이 없다. 문 앞에 있을 때 문을 닫으면 타이머가 작동될 때 돌아가는 것이 아니라 몇 초 뒤에 바로 돌아간다.

4. 폭시 : 폭시의 단계가 최종 단계일 때 옷장에서 불을 켜면 페이크 점프스케어가 잠깐 나온다. 이때, 옷장을 계속 비춘다고 해서 죽이지 않는다. 문을 닫지 않고 계속 있어도 안죽는다. -> 이 상태에서 메인으로 이동하면 바로 폭시가 점프스케어 발동

5. 프레디는 침대를 보고 있는 상황에서도 불을 키지 않으면 증식한다.
 - 침대를 보고있을 때 침대에서 점프스케어를 한다.
 - 프레디가 침대가 아닌 다른 모든 곳에서 점프스케어를 할 때는 플레이어는 무조건 메인 정면 이동되어 점프스케어가 발동된다.

6. 침대만 계속 바라보고 있으면 폭시 외에는 플레이어를 죽이지 않는데, 계속 침대만 바라보고 있으면, 폭시가 어디에 있든 와서 점프스케어를 발동한다. 이때 플레이어 시야는 침대. 폭시는 플레이어가 침대를 보고있을 때 별도로 카운트가 쌓이고, 이 카운트가 일정 이상 쌓이면 플레이어를 죽인다. 플레이어가 침대가 아닌 다른 곳을 본다면 카운트는 0으로 초기화

7. 보니 & 치카 : 보니와 치카는 문 앞에 있을 때 별도의 카운트가 쌓인다. 이 카운트는 문 앞에 있는 보니 & 치카를 문을 닫아 돌려보내거나, 중앙에 있는 보니 & 치카에 불을 비춰 숨게 할 때 0으로 초기화 되며, 일정 카운트 이상이 쌓인 후 플레이어가 메인에 있을 때 점프스케어를 발동한다. (이 카운트는 플레이어가 어느 곳을 보고 있더라도 보니 & 치카가 문앞에 있는 상태라면 쌓인다.

폭시 행동패턴 추가 사항
옷장 안에 들어온 뒤에는 5초에 한 번씩 작동하는 로직이 바뀜.
옷장 안에서 있는 동안 약 3초(이 부분은 예측)마다 AI Level에 따라 카운트가 증가하고, 이 카운트는 총 4단계로 이루어짐
1. 인형 상태 - 카운트 0에서 25% 비율
2. 1단계, 폭시가 오른쪽에 서 있고 갈고리 손만 보이는 상태 - 카운트 25~50%
3. 2단계, 폭시가 허리를 구부리고 얼굴 모습이 약간 보임 - 카운트 50~75%
4. 3단계, 폭시가 얼굴을 내미는 상태 - 카운트 75~100% : 이 상태에서 플레이어가 옷장의 불을 켜면 페이크 점프스케어가 잠깐 나옴. 한 번 점프스케어가 나온 뒤에는 정지 상태의 얼굴이 보임.
플레이어가 옷장 문을 닫는 동안 카운트는 순차적으로 감소함
카운트가 100%을 넘었을 때, 플레이어가 메인으로 이동하면 점프스케어 발동함. 옷장에 있을 때는 카운트가 100을 넘어도 점프스케어 발동 X)

추가사항
1. 폭시 
- 폭시는 2,3을 왔다갔다 할 때도 발소리가 들린다.

2. 치카 
- 플레이어가 오른쪽을 보지 않을 때, 8번 방과 6번방을 반복 이동한다.(AI Level에 따름), ( 기존 왼쪽 문을 보고 있을 때 6번으로 이동에서 오른쪽 문을 보지 않는 모든 경우에서 이동 함 )
- 8번 방에 있을 때 쌓이는 카운트가 점프스케어를 발동시키는 수치를 넘었을 때, 플레이어가 메인이나 침대를 보고 있다면 점프스케어

3. 보니
- 플레이어가 왼쪽을 보지 않을 때 0번 방과 1번 방을 반복 이동한다. (AI Level에 따름)
- 0번 방에 있을 때 쌓이는 카운트가 점프스케어를 발동시키는 수치를 넘었을 때, 플레이어가 메인이나 침대를 보고 있다면 점프스케어
```



### 협업

---
- Git
- Notion
- discode

### 기능 정의

---

![image](https://github.com/user-attachments/assets/91297cca-8a14-494f-b308-1e795d37af6a)

---

### 코딩 컨벤션

---

1. **파스칼** 표기법
2. **의미 없는** 변수명 X ex) int a, 
3. 상수는 **대문자와 ‘_’**로 ) **const int32 MAX_COUNT = 10;**
4. 중괄호 사용할 때

```
if(Speed == 0)
{
	Speed = Speed + 10;
}
```

5. 함수명을 작성할 때는 **동사 + 명사**로

```
ex) getUserInfomation()
```

6. 변수, 함수명 글자 수 는 **최대 20자**까지
7. 다른 사람 코드를 변경할 때는 직접 수정이 아닌, **수정 요청**을 통해 변경하기
8. auto를 쓴 이후에는 원래 **변수 타입**으로 이름 바꿔주기
9. header에 **include는** 최대한 자제, **전방 선언 사용**이 불가능한 경우에만 추가


---

### ✨Git 컨벤션

---

## 📌 Commit 규칙

<aside>
💡 **#git이슈번호 종류 - 내용(한국어/영어 상관없음)**

</aside>

**예시)** 


**#31 fix 빌드실패 - blob → recordedBlob**

**#31 feat params fd 하나만 보내지말고 applicantNo 추가해서 백엔드에 보내기**

## 📌 종류 (+[깃모지 추가](https://gitmoji.dev/))

- **feat - 기능 추가**

```
 ✨ :sparkles: 기능 추가 Introduce new features.
```

- **fix - 버그 수정**

```
🐛	:bug:	버그 수정	Fix a bug.
```

- **docs - 문서 수정 (README.md)**

```
📝 :memo: 문서 추가/수정 Add or update documentation.
```

- **style - 스타일 관련 기능(코드 포맷팅, 세미콜론 누락, 코드 자체의 변경이 없는 경우)**

```
🎨 :art: 코드의 구조/형태 개선 Improve structure / format of the code.
```

- **refactor - 코드 리팩토링**

```
♻️ :recycle: 코드 리팩토링 Refactor code.
```

- **test - 테스트 코드**

```
✅ :white_check_mark: 테스트 추가/수정 Add or update tests.
```

- **database - DB 관련 작업**

```
🗃️ :card_file_box: DB 관련 작업 Perform database related changes.
```

- **simple_fix - 심플 이슈 수정**

```
🩹 :adhesive_bandage: 심플 이슈(오타 등) 수정 Simple fix for a non-critical issue.
```

- **comments - 주석**

```
💡 :bulb: 주석 추가 및 수정 Add or update comments in source code.
```

- **catch - 에러 해결**

```
🥅 :goal_net: 에러 잡음 Catch errors.
```

- **chore - 빌드 업무 수정, 패키지 매니저 수정(ex .gitignore 수정 같은 경우)**

```
🙈 :see_no_evil: .gitignore 추가/수정 Add or update a .gitignore file.
```

- **delete - 코드/파일 삭제**

```
🔥 :fire: 코드/파일 삭제 Remove code or files.
```

- **improve - 개선할 필요가 있는 코드**

```
💩  :poop: 똥싼 코드 Write bad code that needs to be improved.
```

`**깃모지 출처**: [https://inpa.tistory.com/entry/GIT-⚡️-Gitmoji-사용법-Gitmoji-cli](https://inpa.tistory.com/entry/GIT-%E2%9A%A1%EF%B8%8F-Gitmoji-%EC%82%AC%EC%9A%A9%EB%B2%95-Gitmoji-cli)`
